"use strict";(self.webpackChunkigi_client=self.webpackChunkigi_client||[]).push([[170],{168:(e,t,r)=>{r.d(t,{A:()=>o});var s=r(601),i=r.n(s),a=r(314),n=r.n(a)()(i());n.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;900&family=Roboto:wght@400;700&display=swap);"]),n.push([e.id,"div.card{cursor:pointer;width:12rem;height:12rem;align-items:flex-start;justify-content:flex-start;padding:1rem 1.5rem;border-radius:.2rem;border:1px solid #fff}div.card p,div.card h3{margin:0}div.card h3.card-title{font-size:1.5rem;font-weight:bold;margin:.5rem 0;min-height:4rem}div.card-details{align-items:flex-start;justify-content:flex-start}div.card-details h4.card-details--subtitle{margin:.5rem 0;font-weight:700;max-width:11rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}div.card-details p.card-details--text{opacity:.8}",""]);const o=n},930:(e,t,r)=>{r.d(t,{A:()=>o});var s=r(601),i=r.n(s),a=r(314),n=r.n(a)()(i());n.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;900&family=Roboto:wght@400;700&display=swap);"]),n.push([e.id,"div.overlay{position:absolute;z-index:2;height:100vh;width:100vw;top:0;left:0;cursor:default;overflow:hidden;background-color:#ffe81f;color:#000;font-weight:700;display:flex;justify-content:center;align-items:center;width:100%;height:100%}div.overlay-close{position:absolute;top:2rem;right:2rem}div.overlay-close button{height:100%;font-size:3rem}div.overlay-container{display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;gap:3rem;max-width:30rem}div.overlay-title{font-size:3rem}div.overlay-title h1{color:#000 !important;font-weight:700}div.overlay-content{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;width:100%}div.overlay-content div.table-row{display:flex;flex-direction:row;justify-content:space-between;align-items:center;width:100%}div.overlay-content div.table-row p.table-col{flex:2;margin:0;padding:0;font-size:1.5rem;color:#000}div.overlay-content div.table-row p.table-col a.property-link{color:#000;font-weight:700;cursor:pointer;text-decoration:none}div.overlay-content div.table-row p.table-col a.property-link:hover{text-decoration:underline}",""]);const o=n},346:(e,t,r)=>{r.d(t,{A:()=>o});var s=r(601),i=r.n(s),a=r(314),n=r.n(a)()(i());n.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;900&family=Roboto:wght@400;700&display=swap);"]),n.push([e.id,"div.filter{user-select:none}div.filter h3,div.filter h4,div.filter p{margin:.5rem}div.filter button{width:12rem;margin-top:1.5rem}div.filter label{cursor:pointer}div.filter-menu{padding:0 2rem 1rem 2rem;gap:1rem;border-top:1px solid #fff;padding-top:1rem;align-items:flex-start}div.filter-menu--group{align-items:flex-start}div.filter-menu--group_info{align-items:flex-start;max-width:18rem}div.filter-menu--group label{display:inline-flex;align-items:center;justify-content:center;margin:.5rem}",""]);const o=n},79:(e,t,r)=>{r.d(t,{A:()=>o});var s=r(601),i=r.n(s),a=r(314),n=r.n(a)()(i());n.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;900&family=Roboto:wght@400;700&display=swap);"]),n.push([e.id,'button.btn{cursor:pointer;user-select:none;height:2.5rem;min-width:6.25rem;border-radius:.25rem;font-size:1rem;font-family:Orbitron,sans-serif;font-weight:700}button.btn.btn-primary{border:2px solid #ffe81f;color:#ffe81f;background-color:#000}button.btn.btn-primary--flat{border:2px solid #000}button.btn.btn-secondary{border:2px solid #ffe81f;color:#000;background-color:#ffe81f}button.btn.btn-tertiary{border:2px solid #fff;color:#000;background-color:#fff}button.btn.btn-disabled,div#searchPage div#searchForm button.btn[disabled]{opacity:.2;cursor:default}label{font-size:1.2rem;font-family:Roboto,sans-serif;color:#fff}input.input[type=text]{height:2.5rem;background-color:rgba(0,0,0,0);min-width:30rem;border:none;border-bottom:1px solid #fff;padding:0 1rem;font-size:1.2rem;font-family:Roboto,sans-serif;color:#fff}input.input[type=text]:focus-visible{outline:none;border-bottom:1px solid #ffe81f}input.input[type=checkbox]{height:1.3rem;width:1.3rem;margin:0;margin-right:.5rem;border:none;border-radius:.25rem;background-color:#fff;cursor:pointer;user-select:none;appearance:none;-webkit-appearance:none;-moz-appearance:none}input.input[type=checkbox]:checked{background-color:#ffe81f;position:relative}input.input[type=checkbox]:checked::after{content:"";position:absolute;top:50%;left:50%;width:10px;height:5px;border:3px solid #000;border-top:none;border-right:none;transform:translate(-50%, -70%) rotate(-55deg)}input.input[type=radio]{height:1.2rem;width:1.2rem;margin-right:.5rem;border:2px solid #fff;border-radius:50%;background-color:rgba(0,0,0,0);cursor:pointer;user-select:none;appearance:none;-webkit-appearance:none;-moz-appearance:none}input.input[type=radio]:checked{background-color:#ffe81f;position:relative}input.input[type=radio]:checked::after{content:"";position:absolute;top:50%;left:50%;width:10px;height:10px;background-color:#000;border-radius:50%;transform:translate(-50%, -50%)}div#searchPage{height:100%;width:100%;margin-top:8rem;overflow-y:hidden;overflow-x:hidden}div#searchPage h1{font-size:6rem;text-align:center;color:#ffe81f;margin-bottom:1rem}div#searchPage div#searchForm input[type=text]{margin-bottom:1rem}div#searchPage div#searchForm button{min-width:12rem;margin-top:.5rem}div#searchPage div#searchForm div#pagination{margin:1rem;gap:1rem}div#searchPage div#searchForm div#pagination p{margin:0}div#searchPage div#searchForm div#pagination button{height:2rem;font-size:1rem;margin:0;width:4rem !important;min-width:0 !important;cursor:pointer;color:#ffe81f;background-color:#000;border:none;font-weight:700}div#searchPage div#searchForm div#pagination button[disabled]{cursor:default;color:#fff;opacity:.3}div#searchPage div.search-results{align-items:flex-start;justify-content:flex-start;overflow-y:scroll;overflow-x:hidden;width:100%;height:100%}div#searchPage div.search-results--container{align-items:flex-start;justify-content:center}div#searchPage div.search-results--content{flex-wrap:wrap;gap:2rem;padding:0 6rem;margin-bottom:4rem}div#searchPage div.search-results--info{position:sticky;top:0;width:100%;z-index:1;gap:1rem;align-items:flex-start;padding:2rem 0 2rem 4rem;margin-bottom:2rem;background-color:#000}div#searchPage div.search-results--info p,div#searchPage div.search-results--info h2{margin:0}div#searchPage div.search-results--info h2{color:#ffe81f}',""]);const o=n},643:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(83);class i{constructor(){}static getInstance(){return i.instance||(i.instance=s.A.create({baseURL:"http://localhost:8080",headers:{"Content-Type":"application/json"},timeout:1e4}),i.instance.interceptors.response.use((e=>e),(e=>{const t=e.response?.data||{status:e.response?.data?.status||500,message:e.response?.data?.message||"Unknown error occurred.",response:{code:e.response?.data?.code||"UNKNOWN_ERROR",details:e.response?.data?.details||"No additional error details available."}};return Promise.reject(t)}))),i.instance}}const a=i.getInstance()},30:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(643);class i{constructor(){this.endpoints={root:"/people",getById:e=>`/people/${e}`}}static getInstance(){return i.instance||(i.instance=new i),i.instance}async getAll(e=1,t=15){if(e&&e<=0||t&&t<=0)throw new Error("Page and/or Limit must be bigger than zero!");return(await s.A.get(this.endpoints.root,{params:{page:e,limit:t}})).data}async getById(e){return(await s.A.get(this.endpoints.getById(e))).data}}const a=i.getInstance()},921:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(643);class i{constructor(){this.endpoints={root:"/planet",getById:e=>`/planet/${e}`}}static getInstance(){return i.instance||(i.instance=new i),i.instance}async getAll(e=1,t=15){if(e&&e<=0||t&&t<=0)throw new Error("Page and/or Limit must be bigger than zero!");return(await s.A.get(this.endpoints.root,{params:{page:e,limit:t}})).data}async getById(e){return(await s.A.get(this.endpoints.getById(e))).data}}const a=i.getInstance()},854:(e,t,r)=>{r.d(t,{A:()=>P});var s=r(848),i=r(540),a=r(30),n=r(921),o=r(72),l=r.n(o),c=r(825),d=r.n(c),p=r(659),h=r.n(p),u=r(56),m=r.n(u),g=r(159),f=r.n(g),b=r(113),v=r.n(b),y=r(930),x={};x.styleTagTransform=v(),x.setAttributes=m(),x.insert=h().bind(null,"head"),x.domAPI=d(),x.insertStyleElement=f(),l()(y.A,x),y.A&&y.A.locals&&y.A.locals;var w=r(201);const j=({name:e,uid:t,resource:r,open:o,onClose:l})=>{const[c,d]=(0,i.useState)(),[p,h]=(0,i.useState)(!1),[u,m]=(0,i.useState)(!1);(0,i.useEffect)((()=>{o?(async()=>{h(!0);try{if("people"===r){const e=await a.A.getById(t);h(!1),d(e)}else{const e=await n.A.getById(t);h(!1),d(e)}}catch(e){h(!1),m(!0)}})():(d(void 0),h(!0),m(!1))}),[t,r,o]);const g=e=>e.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" "),f=(e,t)=>{if("string"==typeof t){if(t.startsWith("http://")||t.startsWith("https://"))return(0,s.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"property-link",children:g(e)});if(t.match(/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/)){const e=new Date(t);if(!isNaN(e.getTime()))return`${e.getFullYear()}.${String(e.getMonth()+1).padStart(2,"0")}.${String(e.getDate()).padStart(2,"0")} - ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}`}}return t};return o?(0,s.jsxs)("div",{id:`overlay-${t}`,className:"overlay",children:[(0,s.jsx)("div",{className:"overlay-close",children:(0,s.jsx)("button",{id:`close-overlay-${t}`,className:"btn btn-primary",onClick:l,children:"X"})}),(0,s.jsxs)("div",{id:`overlay-content-${t}`,className:"overlay-container",children:[(0,s.jsx)("div",{className:"overlay-title",children:(0,s.jsx)("h1",{children:e})}),p&&(0,s.jsx)(w.A,{color:"primary",cover:!0}),u&&(0,s.jsx)("h2",{children:" Oh No!"}),(0,s.jsx)("div",{className:"overlay-content",children:c?.response?.result?.properties&&Object.entries(c.response.result.properties).map((([e,t])=>(0,s.jsxs)("div",{className:"table-row",children:[(0,s.jsx)("p",{className:"table-col",children:g(e)}),(0,s.jsx)("p",{className:"table-col",children:f(e,t)})]},e)))})]})]}):null};var k=r(168),N={};N.styleTagTransform=v(),N.setAttributes=m(),N.insert=h().bind(null,"head"),N.domAPI=d(),N.insertStyleElement=f(),l()(k.A,N),k.A&&k.A.locals&&k.A.locals;const P=({uid:e,name:t,resource:r,details:a})=>{const[n,o]=i.useState(),[l,c]=i.useState(!1);return(0,i.useEffect)((()=>{"people"===r&&o({subTitle:`${a?.year} - ${a?.gender}`,details:`${a?.eyeColor} eyes with ${a?.hairColor} hair and ${a?.skinColor} skin`}),"planet"===r&&o({subTitle:`${a?.climate} - ${a?.terrain}`,details:`${a?.rotationPeriod}h rotation period with  ${a?.orbitalPeriod}h orbital period`})}),[r,a]),(0,s.jsxs)("div",{className:"col card",onClick:()=>c(!0),children:[(0,s.jsx)("h3",{className:"card-title",children:t}),a&&(0,s.jsxs)("div",{className:"col card-details",children:[(0,s.jsx)("h4",{className:"card-details--subtitle",children:n?.subTitle}),(0,s.jsx)("p",{className:"card-details--text",children:n?.details})]}),l&&(0,s.jsx)(j,{name:t,uid:e,resource:r,open:l,onClose:e=>{e.stopPropagation(),c(!1)}})]},e)}},170:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var s=r(848),i=r(540),a=r(815),n=r(785),o=r(643);class l{constructor(){this.endpoints={search:"/search"}}static getInstance(){return l.instance||(l.instance=new l),l.instance}async search(e){if(!e.keyword||""===e.keyword.trim())throw new Error("Keyword is required and cannot be empty!");if(!e.source||!["people","planets","people,planets"].includes(e.source))throw new Error("Source must be either 'people' or 'planets'!");if(e.page&&e.page<=0||e.limit&&e.limit<=0)throw new Error("Page and/or Limit must be bigger than zero!");if(e.sortType&&!["name","created"].includes(e.sortType))throw new Error("Invalid sort type. Must be either 'name' or 'created'.");if(e.sortOrder&&!["asc","desc"].includes(e.sortOrder))throw new Error("Invalid sort order. Must be either 'asc' or 'desc'.");const t=new URLSearchParams;t.append("keyword",e?.keyword),"people,planets"===e?.source?t.append("source","people,planets"):t.append("source",e?.source),t.append("page",e.page?.toString()||"1"),t.append("limit",e.limit?.toString()||"15"),t.append("sortType",e?.sortType||"name"),t.append("sortOrder",e?.sortOrder||"asc");const r=`${this.endpoints.search}?${t.toString()}`;return(await o.A.get(r)).data}}const c=l.getInstance();var d=r(72),p=r.n(d),h=r(825),u=r.n(h),m=r(659),g=r.n(m),f=r(56),b=r.n(f),v=r(159),y=r.n(v),x=r(113),w=r.n(x),j=r(346),k={};k.styleTagTransform=w(),k.setAttributes=b(),k.insert=g().bind(null,"head"),k.domAPI=u(),k.insertStyleElement=y(),p()(j.A,k),j.A&&j.A.locals&&j.A.locals;const N=()=>{const{query:e,updateQuery:t}=(0,n.S)(),[r,a]=i.useState(!1),o=r=>{const s=e.source.split(",");s.includes(r)?s.length>1&&t("source",s.filter((e=>e!==r)).join(",")):t("source",[...s,r].join(","))};return(0,s.jsxs)("div",{id:"searchFilter",className:"col filter",children:[(0,s.jsx)("button",{onClick:()=>a(!r),className:r?"btn btn-tertiary":"btn btn-primary",children:"Filters"}),r&&(0,s.jsxs)("div",{className:"row filter-menu",children:[(0,s.jsxs)("div",{className:"col filter-menu--group",children:[(0,s.jsxs)("div",{className:"col filter-menu--group_info",children:[(0,s.jsx)("h3",{children:"Resource"}),(0,s.jsx)("p",{children:"Set the resources to be checked for items that include the provided keyword."})]}),(0,s.jsxs)("label",{className:"label",children:[(0,s.jsx)("input",{type:"checkbox",className:"input",checked:e.source.includes("people"),onChange:()=>o("people")}),"People"]}),(0,s.jsxs)("label",{className:"label",children:[(0,s.jsx)("input",{type:"checkbox",className:"input",checked:e.source.includes("planets"),onChange:()=>o("planets")}),"Planets"]})]}),(0,s.jsxs)("div",{className:"col filter-menu--group",children:[(0,s.jsxs)("div",{className:"col filter-menu--group_info",children:[(0,s.jsx)("h3",{children:"Sorting"}),(0,s.jsx)("p",{children:"Select a sort field and sorting order to see more organized results."})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsxs)("div",{className:"col filter-menu--group",children:[(0,s.jsx)("h4",{children:"Type"}),(0,s.jsxs)("label",{className:"label",children:[(0,s.jsx)("input",{type:"radio",name:"sortType",value:"name",className:"input",checked:"name"===e.sortType,onChange:()=>t("sortType","name")}),"Name"]}),(0,s.jsxs)("label",{children:[(0,s.jsx)("input",{type:"radio",className:"input",name:"sortType",value:"created",checked:"created"===e.sortType,onChange:()=>t("sortType","created")}),"Created"]})]}),(0,s.jsxs)("div",{className:"col filter-menu--group",children:[(0,s.jsx)("h4",{children:" Order "}),(0,s.jsxs)("label",{className:"label",children:[(0,s.jsx)("input",{type:"radio",name:"sortOrder",value:"asc",className:"input",checked:"asc"===e.sortOrder,onChange:()=>t("sortOrder","asc")}),"Ascending"]}),(0,s.jsxs)("label",{className:"label",children:[(0,s.jsx)("input",{type:"radio",name:"sortOrder",value:"desc",className:"input",checked:"desc"===e.sortOrder,onChange:()=>t("sortOrder","desc")}),"Descending"]})]})]})]})]})]})};var P=r(854),A=r(79),S={};S.styleTagTransform=w(),S.setAttributes=b(),S.insert=g().bind(null,"head"),S.domAPI=u(),S.insertStyleElement=y(),p()(A.A,S),A.A&&A.A.locals&&A.A.locals;var C=r(201);const T=()=>{const{query:e,updateQuery:t,validateQuery:r}=(0,n.S)(),o=(0,a.zy)(),[l,d]=i.useState(!1),[p,h]=i.useState(null),[u,m]=i.useState([]),[g,f]=i.useState([]),[b,v]=i.useState(),[y,x]=i.useState(e.page||1),[w,j]=i.useState(!1),k=async()=>{const t=r();if(t)return h(t),m([]),f([]),void v(void 0);d(!0);try{const t=await c.search(e);m(t.response.results.people),f(t.response.results.planets),v({total:t.response.hitCount.total,totalPages:t.response.hitCount.totalPagePeople>t.response.hitCount.totalPagePlanet?t.response.hitCount.totalPagePeople:t.response.hitCount.totalPagePlanet}),d(!1)}catch(e){console.error(e),h(e),m([]),f([]),v(void 0),d(!1)}},A=(e,r)=>{r.stopPropagation(),"prev"===e&&(x(y-1),t("page",y-1)),"next"===e&&(x(y+1),t("page",y+1)),j(!0)};return(0,i.useEffect)((()=>{w&&(k(),j(!1))}),[w]),(0,i.useEffect)((()=>{m([]),f([]),v(void 0)}),[o]),(0,s.jsxs)("div",{id:"searchPage",className:"col",children:[!b&&(0,s.jsxs)("h1",{children:["Inter-Galactic ",(0,s.jsx)("br",{})," Index"]}),(0,s.jsxs)("div",{id:"searchForm",className:"col",children:[(0,s.jsx)("input",{type:"text",placeholder:"Enter keyword",value:e.keyword,onChange:e=>t("keyword",e.target.value),maxLength:100,className:"input"}),(0,s.jsx)(N,{}),(0,s.jsx)("button",{onClick:k,className:"btn btn-secondary",disabled:l||0===e.keyword.length,children:"Search"}),b&&(0,s.jsxs)("div",{className:"row",id:"pagination",children:[(0,s.jsx)("button",{onClick:e=>A("prev",e),disabled:1===y,children:"Prev"}),(0,s.jsxs)("p",{children:[y," / ",b?.totalPages]}),(0,s.jsx)("button",{onClick:e=>A("next",e),disabled:y>=b?.totalPages,children:"Next"})]})]}),l&&(0,s.jsx)(C.A,{}),p&&(0,s.jsx)("p",{children:"Something went wrong. Please check console for more details."}),b&&e?.keyword&&(0,s.jsxs)("div",{className:"search-results",children:[u?.length>0&&(0,s.jsxs)("div",{className:"col search-results--container",children:[(0,s.jsxs)("div",{className:"col search-results--info",children:[(0,s.jsx)("h2",{children:"People"}),(0,s.jsx)("p",{children:"Displaying people containing the keyword in their name field."})]}),(0,s.jsx)("div",{className:"row search-results--content",children:u?.map((e=>(0,s.jsx)(P.A,{uid:e.uid,name:e.properties.name,resource:"people",details:{year:e.properties.birth_year,gender:e.properties.gender,eyeColor:e.properties.eye_color,hairColor:e.properties.hair_color,skinColor:e.properties.skin_color}},e.uid)))})]}),g?.length>0&&(0,s.jsxs)("div",{className:"col search-results--container",children:[(0,s.jsxs)("div",{className:"col search-results--info",children:[(0,s.jsx)("h2",{children:" Planets "}),(0,s.jsx)("p",{children:"Displaying planets containg the keyword in their name field."})]}),(0,s.jsx)("div",{className:"row search-results--content",children:g.map((e=>(0,s.jsx)(P.A,{uid:e.uid,name:e.properties.name,resource:"planet",details:{climate:e.properties.climate,terrain:e.properties.terrain,rotationPeriod:e.properties.rotation_period,orbitalPeriod:e.properties.orbital_period}},e.uid)))})]})]})]})}}}]);